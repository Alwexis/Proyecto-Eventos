{% load static %}
{% load customtags %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket on Point</title>
    <!-- Google Icons -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">

    <link rel="stylesheet" href="{% static 'aplicacion/global/global.css' %}">
    <link rel="stylesheet" href="{% static 'aplicacion/evento/evento.css' %}">
    <link rel="icon" href="{% static 'aplicacion/assets/images/icono.ico' %}" type="image/x-icon">

    <script src="{% static 'aplicacion/global/global.js' %}"></script>
    <script src="{% static 'aplicacion/evento/evento.js' %}"></script>
</head>

<body>
    <header>
        <a href="{% url 'home' %}">
            <div>
                <i class="bi bi-arrow-left"></i>
                <span>Volver</span>
            </div>
        </a>
    </header>

    <main>
        <section id="titulo-evento">
            <img src="{{evento.imagen}}">
            <div class="title-container">
                <h1>{{evento.nombre}}</h1>
                <div class="subtitle-container">
                    <div class="subtitle-item">
                        <i class="bi bi-geo-alt-fill"></i>
                        <span>{{evento.lugar}}</span>
                    </div>
                    <div class="subtitle-item">
                        <i class="bi bi-calendar3"></i>
                        <span>{{evento.fecha}}</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="informacion-evento">
            <div class="descripcion">
                <div class="titulo-descripcion">
                    <h2>Descripción</h2>
                    <i onclick="toggleDescription()" class="bi bi-caret-down-fill toggled"></i>
                </div>
                <p class="contenido-descripcion toggled">
                    {{evento.descripcion}}
                </p>
            </div>
        </section>

        <div class="mapa">
            <img src="{% static 'aplicacion/assets/images/escenario.png' %}" alt="Mapa Evento" class="img-fluid">

            <div class="tickets">

                <div id="ticket-selection-header">
                    <h2 class="ticket-selection-title numbre-ticket">
                        Selecciona tus entradas
                    </h2>
                </div>

                <form method="POST">
                    {% csrf_token %}
                    <table class="tickets-event-sales bordered">

                        <thead class="transparent">
                            <tr>
                                <th>Tipo</th>
                                <th>Precio</th>
                                <th>Cantidad</th>
                            </tr>
                        </thead>

                        <tbody id="ticket-data">

                            <tr class="ga-product-detail">
                                <td colspan="1" class=" p-t-xs ">
                                    <div class="variant-ticket">
                                        <div class="circle-color" style="background-color: var(--color-yellow);">
                                        </div>
                                        <h5 class="m-y-0 size-lg grey-text text-darken-2">
                                            VIP
                                        </h5>
                                    </div>
                                </td>
                                <td class="">
                                    <p class="display-inline black-text" id="ticket_price_4">
                                        ${{evento.precio | percentIncrease:100}} CLP</p>
                                </td>

                                <td class="selector">
                                    <input type="number" id="vip" name="vip" ticketValue="{{evento.precio | percentIncrease:100}}" value="0" min="0" max="5">
                                </td>
                            </tr>

                            <tr class="ga-product-detail">
                                <td colspan="1" class=" p-t-xs ">
                                    <div class="form-group hidden cart_cart_items_ticket_id">
                                    </div>
                                    <div class="variant-ticket">
                                        <div class="circle-color" style="background-color: var(--color-cyan);">
                                        </div>
                                        <h5 class="m-y-0 size-lg grey-text text-darken-2">
                                            Cancha
                                        </h5>
                                    </div>
                                </td>
                                <td class="">
                                    <p class="display-inline black-text" id="ticket_price_4">
                                        ${{evento.precio | percentIncrease:50}} CLP</p>
                                </td>

                                <td class="selector">
                                    <input type="number" id="cancha" name="cancha" ticketValue="{{evento.precio | percentIncrease:50}}" value="0" min="0" max="5">
                                </td>
                            </tr>

                            <tr class="ga-product-detail">
                                <td colspan="1" class=" p-t-xs ">
                                    <div class="form-group hidden cart_cart_items_ticket_id">
                                    </div>
                                    <div class="variant-ticket">
                                        <div class="circle-color" style="background-color: var(--color-green);">
                                        </div>
                                        <h5 class="m-y-0 size-lg grey-text text-darken-2">
                                            Galeria Central
                                        </h5>
                                    </div>
                                </td>
                                <td class="">
                                    <p class="display-inline black-text" id="ticket_price_4">
                                        ${{evento.precio | percentIncrease:25}} CLP</p>
                                </td>

                                <td class="selector">
                                    <input type="number" id="galeriaCentral" name="galeriaCentral" ticketValue="{{evento.precio | percentIncrease:25}}" value="0" min="0" max="5">
                                </td>
                            </tr>

                            <tr class="ga-product-detail">
                                <td colspan="1" class=" p-t-xs ">
                                    <div class="variant-ticket">
                                        <div class="circle-color" style="background-color: var(--color-blue);">
                                        </div>
                                        <h5 class="m-y-0 size-lg grey-text text-darken-2">
                                            Galería Lateral
                                        </h5>
                                    </div>
                                </td>
                                <td class="">
                                    <p class="display-inline black-text" id="ticket_price_4">${{evento.precio}} CLP</p>
                                </td>

                                <td class="selector">
                                    <input type="number" id="galeriaLateral" name="galeriaLateral" ticketValue="{{evento.precio}}" value="0" min="0" max="5">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <button type="submit">Pagar $<span id="total"></span></button>
                </form>
            </div>

        </div>



    </main>
    <!-- Lo mismo que el Header, pero esta vez con el footer -->
    {% include 'components/footer.html' %}

    <!-- Y exactamente lo mismo, otra vez. Pero esta vez con el menú para teléfonos -->
    {% include 'components/mobile-menu.html' %}
</body>

</html>